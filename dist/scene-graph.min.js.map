{"version":3,"sources":["./dist/scene-graph.dev.js"],"names":["exports","vmath","b","a","Math","random","toString","replace","v3_a","vec3","create","q_a","quat","m3_a","mat3","m3_b","m4_a","mat4","Node","[object Object]","name","this","_id","_parent","_children","lpos","new","lscale","lrot","id","parent","children","newParent","oldParent","cur","len","length","i","splice","push","idx","node","removeChild","out","copy","mul","transformQuat","add","pos","invTransformPoint","rot","getWorldRot","conjugate","fromQuat","_getWorldRS","sub","inverseSafe","fromRTS","getLocalMatrix","_getWorldPosAndRot","fromRT","set","x","y","z","opos","orot","walk","fn","forEach","child","flat","iter","utils","sgraph","window"],"mappings":"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","file":"./dist/scene-graph.min.js"}