{"version":3,"sources":["./dist/scene-graph.dev.js"],"names":["exports","vmath","b","a","Math","random","toString","replace","v3_a","vec3","create","q_a","quat","m3_a","mat3","m3_b","m4_a","mat4","Node","[object Object]","name","this","_id","_parent","_children","lpos","new","lscale","lrot","id","parent","children","newNode","copy","clone","Array","length","i","child","newChild","deepClone","newParent","oldParent","cur","len","splice","push","idx","node","removeChild","out","mul","transformQuat","add","pos","invTransformPoint","rot","getWorldRot","conjugate","fromQuat","_getWorldRS","sub","inverseSafe","fromRTS","getLocalMatrix","_getWorldPosAndRot","fromRT","set","x","y","z","opos","orot","walk","fn","forEach","flat","iter","utils","sgraph","window"],"mappings":"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","file":"./dist/scene-graph.min.js"}