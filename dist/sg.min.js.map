{"version":3,"sources":["./dist/sg.dev.js"],"names":["exports","vmath","b","a","Math","random","toString","replace","v3_a","vec3","create","q_a","quat","m3_a","mat3","m3_b","m4_a","mat4","Node","[object Object]","name","this","_id","_parent","_children","lpos","new","lscale","lrot","id","parent","children","newParent","oldParent","cur","len","length","i","splice","push","idx","node","removeChild","out","copy","mul","fromQuat","transformMat3","add","pos","invTransformPoint","rot","getWorldRot","conjugate","_getWorldRS","sub","inverseSafe","fromRTS","getLocalMatrix","_getWorldPosAndRot","fromRT","set","x","y","z","opos","orot","walk","fn","forEach","child","flat","iter","utils","sg","window"],"mappings":"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","file":"./dist/sg.min.js"}